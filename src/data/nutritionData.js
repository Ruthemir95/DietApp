export const nutritionData = {
    // Latticini
    "Latte di vacca parzial. scremato": {
        calories: 46,
        protein: 3.3,
        carbs: 5.0,
        fat: 1.5,
        per: 100,
    },
    "Yogurt greco 0% aromatizzato": {
        calories: 57,
        protein: 10,
        carbs: 3.6,
        fat: 0,
        per: 100,
    },
    "Parmigiano grattugiato": {
        calories: 392,
        protein: 33,
        carbs: 0,
        fat: 29,
        per: 100,
    },
    "Parmigiano Reggiano Grattugiato": {
        calories: 392,
        protein: 33,
        carbs: 0,
        fat: 29,
        per: 100,
    },
    "Mozzarella di vacca": {
        calories: 280,
        protein: 18,
        carbs: 0,
        fat: 22.5,
        per: 100,
    },
    "Fiocchi di latte": {
        calories: 98,
        protein: 11,
        carbs: 3.5,
        fat: 4.3,
        per: 100,
    },
    "Parmareggio Snack": {
        calories: 392,
        protein: 33,
        carbs: 0,
        fat: 29,
        per: 100,
    },
    Scamorza: { calories: 280, protein: 20, carbs: 0, fat: 22, per: 100 },

    // Cereali e derivati
    "Cereali Integrali": {
        calories: 340,
        protein: 8.5,
        carbs: 71,
        fat: 2.5,
        per: 100,
    },
    "Pasta di semola integrale": {
        calories: 350,
        protein: 13,
        carbs: 70,
        fat: 2,
        per: 100,
    },
    "Pane integrale": {
        calories: 250,
        protein: 8,
        carbs: 49,
        fat: 1.5,
        per: 100,
    },
    Frisella: { calories: 350, protein: 11, carbs: 73, fat: 1.5, per: 100 },
    "Biscotti integrali": {
        calories: 420,
        protein: 8,
        carbs: 75,
        fat: 12,
        per: 100,
    },
    "Crostini Integrali": {
        calories: 400,
        protein: 11,
        carbs: 80,
        fat: 4,
        per: 100,
    },

    // Proteine
    Tonno: { calories: 130, protein: 29, carbs: 0, fat: 1, per: 100 },
    "Tonno sott'olio - sgocciolato": {
        calories: 190,
        protein: 25,
        carbs: 0,
        fat: 10,
        per: 100,
    },
    "Pesce spada": { calories: 144, protein: 23, carbs: 0, fat: 5.8, per: 100 },
    Bresaola: { calories: 150, protein: 32, carbs: 0, fat: 2.5, per: 100 },
    "Prosciutto cotto": {
        calories: 145,
        protein: 22,
        carbs: 0,
        fat: 6,
        per: 100,
    },
    "Merluzzo o nasello surgelato": {
        calories: 82,
        protein: 18,
        carbs: 0,
        fat: 0.8,
        per: 100,
    },
    "Orata surgelata": { calories: 100, protein: 20, carbs: 0, fat: 2, per: 100 },

    // Legumi
    "Lenticchie secche": {
        calories: 325,
        protein: 25,
        carbs: 54,
        fat: 1.8,
        per: 100,
    },
    Piselli: { calories: 81, protein: 5.4, carbs: 14, fat: 0.4, per: 100 },

    // Frutta e verdura
    Ananas: { calories: 50, protein: 0.5, carbs: 12, fat: 0, per: 100 },
    Arancia: { calories: 47, protein: 0.9, carbs: 12, fat: 0.2, per: 100 },
    Kiwi: { calories: 61, protein: 1.1, carbs: 15, fat: 0.5, per: 100 },
    Mela: { calories: 52, protein: 0.3, carbs: 14, fat: 0.2, per: 100 },
    Pera: { calories: 57, protein: 0.4, carbs: 15, fat: 0.1, per: 100 },
    Prugne: { calories: 46, protein: 0.7, carbs: 11, fat: 0.3, per: 100 },
    Lamponi: { calories: 52, protein: 1.2, carbs: 12, fat: 0.7, per: 100 },
    Mirtilli: { calories: 57, protein: 0.7, carbs: 14, fat: 0.3, per: 100 },

    "Fiori di zucca": {
        calories: 15,
        protein: 1.1,
        carbs: 3.3,
        fat: 0.1,
        per: 100,
    },
    "Funghi coltivati champignon": {
        calories: 22,
        protein: 3.1,
        carbs: 3.3,
        fat: 0.3,
        per: 100,
    },
    Melanzane: { calories: 25, protein: 1.1, carbs: 5.7, fat: 0.2, per: 100 },
    Peperoni: { calories: 20, protein: 0.9, carbs: 4.6, fat: 0.2, per: 100 },
    "Radicchio rosso": {
        calories: 13,
        protein: 1.3,
        carbs: 2.6,
        fat: 0.2,
        per: 100,
    },
    Zucchine: { calories: 17, protein: 1.2, carbs: 3.1, fat: 0.2, per: 100 },
    Zucca: { calories: 26, protein: 1, carbs: 6.5, fat: 0.1, per: 100 },
    Carciofi: { calories: 47, protein: 2.7, carbs: 10.5, fat: 0.2, per: 100 },
    "Broccolo a testa": {
        calories: 34,
        protein: 2.8,
        carbs: 7,
        fat: 0.4,
        per: 100,
    },
    "Verdure fresche (media)": {
        calories: 25,
        protein: 1.5,
        carbs: 5,
        fat: 0.3,
        per: 100,
    },
    "Minestrone di verdure": {
        calories: 35,
        protein: 1.8,
        carbs: 7,
        fat: 0.4,
        per: 100,
    },

    // Frutta secca
    "Mandorle dolci - secche": {
        calories: 603,
        protein: 21.2,
        carbs: 19.5,
        fat: 53.8,
        per: 100,
    },
    "Noci - secche": {
        calories: 654,
        protein: 15.2,
        carbs: 13.7,
        fat: 65.2,
        per: 100,
    },

    // Condimenti e altro
    "Gocce di cioccolato fondente-Perugina": {
        calories: 545,
        protein: 5.9,
        carbs: 61,
        fat: 31,
        per: 100,
    },
    "Cioccolato fondente 85%": {
        calories: 592,
        protein: 7.8,
        carbs: 19,
        fat: 55,
        per: 100,
    },
    "Olio di oliva extra vergine": {
        calories: 884,
        protein: 0,
        carbs: 0,
        fat: 100,
        per: 100,
    },
    Pesto: { calories: 345, protein: 3.7, carbs: 3.5, fat: 35, per: 100 },
    "protein cream haselnuss": {
        calories: 544,
        protein: 21,
        carbs: 27,
        fat: 31,
        per: 100,
    },
};
export const calculateNutrition = (items) => {
    let totals = { calories: 0, protein: 0, carbs: 0, fat: 0 };

    items.forEach((item) => {
        if (!Array.isArray(item)) {
            const [foodName, quantity] = item.split(": ");
            if (nutritionData[foodName]) {
                const grams = parseInt(quantity) || 0;
                const multiplier = grams / nutritionData[foodName].per;

                totals.calories += nutritionData[foodName].calories * multiplier;
                totals.protein += nutritionData[foodName].protein * multiplier;
                totals.carbs += nutritionData[foodName].carbs * multiplier;
                totals.fat += nutritionData[foodName].fat * multiplier;
            }
        }
    });

    return {
        calories: Math.round(totals.calories),
        protein: Math.round(totals.protein),
        carbs: Math.round(totals.carbs),
        fat: Math.round(totals.fat),
    };
};

export const calculateTotalNutrition = (dayMeals) => {
    let totalNutrition = { calories: 0, protein: 0, carbs: 0, fat: 0 };

    Object.values(dayMeals).forEach((items) => {
        const nutrition = calculateNutrition(items);
        totalNutrition.calories += nutrition.calories;
        totalNutrition.protein += nutrition.protein;
        totalNutrition.carbs += nutrition.carbs;
        totalNutrition.fat += nutrition.fat;
    });

    return totalNutrition;
};